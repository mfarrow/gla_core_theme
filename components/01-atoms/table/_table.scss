$table-spacing-y: $t-spacing-8;
$table-inner-spacing: $t-spacing-3-5 $t-spacing-4;

.rich-text table,
.styled-table {
  width: 100%;
  table-layout: auto;
  text-align: left;
  margin-top: $table-spacing-y;
  margin-bottom: $table-spacing-y;
  background-color: $t-colors-white;
  caption-side: top;
  font-size: $t-font-size-sm;
  line-height: $t-font-size-sm-line-height;
  // We can't use border-collapse: collapse, otherwise we can't round our td elements.
  border-collapse: separate;
  border-spacing: 0;

  @include breakpoint($t-screens-xl) {
    font-size: $t-font-size-base;
    line-height: $t-line-height-5;
  }

  tbody td {
    vertical-align: top;
    padding: $table-inner-spacing;

    &:nth-of-type(even) {
      background-color: $t-colors-wild-sand;
    }
  }

  caption {
    text-align: left;
    margin-bottom: $t-spacing-6;
    // The caption is styled more like paragraph text.
    font-size: $t-font-size-base;
    line-height: $t-font-size-base-line-height;
  }

  thead {
    color: #111827;
    font-weight: $t-font-weight-bold;
  }

  th {
    vertical-align: top;
    padding: $table-inner-spacing;
    color: #ffffff;
    background-color: #353d42;
    border-right-width: 1px;
    border-bottom-width: 1px;
    border-color: rgba(255, 255, 255, 0.1);
  }

  tbody tr td,
  tbody tr th {
    border-bottom-width: 1px;
  }

  tbody tr td {
    border-color: rgba(53, 61, 66, 0.1);

    &:last-of-type {
      border-right-width: 1px;
    }
  }

  // Add rounded cornersâ€¦
  & > thead tr {
    & *:first-child {
      border-top-left-radius: $t-border-radius-6;
    }

    & *:last-child {
      border-top-right-radius: $t-border-radius-6;
    }
  }

  & > tbody tr:first-child {
    & *:first-child {
      border-top-left-radius: $t-border-radius-6;
    }

    & *:last-child {
      border-top-right-radius: $t-border-radius-6;
    }

    td {
      border-top-width: 1px;
    }
  }

  & > tbody tr:last-child {
    & *:first-child {
      border-bottom-left-radius: $t-border-radius-6;
    }

    & *:last-child {
      border-bottom-right-radius: $t-border-radius-6;
    }
  }

  // Undo the rounded corner in the tbody if we have a thead _then_ a tbody
  & > thead ~ tbody tr:first-child {
    & *:first-child {
      border-radius: unset;
    }

    & *:last-child {
      border-radius: unset;
    }
  }

  & > thead ~ tbody tr td:first-child {
    border-left-width: 1px;
  }
}

.scrollable-table {
  margin-top: $table-spacing-y;
  margin-bottom: $table-spacing-y;

  table {
    margin-top: 0;
    margin-bottom: 0;
  }
}
